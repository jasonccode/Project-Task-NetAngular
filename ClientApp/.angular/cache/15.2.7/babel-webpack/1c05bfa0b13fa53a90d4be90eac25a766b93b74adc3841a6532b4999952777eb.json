{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./Services/tarea.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction AppComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 12)(1, \"div\", 13)(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_13_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const tarea_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.eliminarTarea(tarea_r1));\n    });\n    i0.ɵɵtext(5, \"Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const tarea_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(tarea_r1.nombre);\n  }\n}\nexport class AppComponent {\n  constructor(_tareaServicio, fb) {\n    this._tareaServicio = _tareaServicio;\n    this.fb = fb;\n    this.listaTareas = [];\n    this.formularioTarea = this.fb.group({\n      nombre: ['', Validators.required]\n    });\n  }\n  obtenerTareas() {\n    this._tareaServicio.getList().subscribe({\n      next: data => {\n        this.listaTareas = data;\n      },\n      error: e => {}\n    });\n  }\n  ngOnInit() {\n    this.obtenerTareas();\n  }\n  agregarTarea() {\n    const request = {\n      idtarea: 0,\n      nombre: this.formularioTarea.value.nombre\n    };\n    this._tareaServicio.add(request).subscribe({\n      next: data => {\n        this.listaTareas.push(data);\n        this.formularioTarea.patchValue({\n          nombre: ''\n        });\n      },\n      error: e => {}\n    });\n  }\n  eliminarTarea(tarea) {\n    console.log('ID de la tarea a eliminar:', tarea.idtarea);\n    this._tareaServicio.delete(tarea.idtarea).subscribe({\n      next: data => {\n        const nuevaLista = this.listaTareas.filter(item => item.idtarea != tarea.idtarea);\n        this.listaTareas = nuevaLista;\n      },\n      error: e => {\n        console.error('Error al eliminar tarea', e);\n      }\n    });\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TareaService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 14,\n  vars: 3,\n  consts: [[1, \"container\", \"mt-5\", \"pt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-12\", \"col-xl-4\", \"col-md-6\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Ingresar nueva tarea\", \"formControlName\", \"nombre\", 1, \"form-control\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\"], [1, \"d-flex\", \"justify-content-between\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵtext(5, \"Lista de tareas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"form\", 6)(8, \"div\", 7);\n      i0.ɵɵelement(9, \"input\", 8);\n      i0.ɵɵelementStart(10, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_10_listener() {\n        return ctx.agregarTarea();\n      });\n      i0.ɵɵtext(11, \"Agregar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"ul\", 10);\n      i0.ɵɵtemplate(13, AppComponent_li_13_Template, 6, 1, \"li\", 11);\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.formularioTarea);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.formularioTarea.invalid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listaTareas);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAEA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;ICqBvDC,8BAA8D;IAEnDA,YAAkB;IAAAA,iBAAQ;IACjCA,kCAIC;IADCA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAC/BA,wBAAQ;IAAAA,iBAAS;;;;IALXA,eAAkB;IAAlBA,qCAAkB;;;ADhBzC,OAAM,MAAOC,YAAY;EAIvBC,YAAoBC,cAA4B,EAAUC,EAAe;IAArD,mBAAc,GAAdD,cAAc;IAAwB,OAAE,GAAFC,EAAE;IAH5D,gBAAW,GAAY,EAAE;IAIvB,IAAI,CAACC,eAAe,GAAG,IAAI,CAACD,EAAE,CAACE,KAAK,CAAC;MACnCC,MAAM,EAAE,CAAC,EAAE,EAAER,UAAU,CAACS,QAAQ;KACjC,CAAC;EACJ;EAEAC,aAAa;IACX,IAAI,CAACN,cAAc,CAACO,OAAO,EAAE,CAACC,SAAS,CAAC;MACtCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,WAAW,GAAGD,IAAI;MACzB,CAAC;MACDE,KAAK,EAAGC,CAAC,IAAI,CAAE;KAChB,CAAC;EACJ;EAEAC,QAAQ;IACN,IAAI,CAACR,aAAa,EAAE;EACtB;EAEAS,YAAY;IACV,MAAMC,OAAO,GAAU;MACrBC,OAAO,EAAE,CAAC;MACVb,MAAM,EAAE,IAAI,CAACF,eAAe,CAACgB,KAAK,CAACd;KACpC;IAED,IAAI,CAACJ,cAAc,CAACmB,GAAG,CAACH,OAAO,CAAC,CAACR,SAAS,CAAC;MACzCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,WAAW,CAACS,IAAI,CAACV,IAAI,CAAC;QAC3B,IAAI,CAACR,eAAe,CAACmB,UAAU,CAAC;UAC9BjB,MAAM,EAAE;SACT,CAAC;MACJ,CAAC;MACDQ,KAAK,EAAGC,CAAC,IAAI,CAAE;KAChB,CAAC;EACJ;EAEAS,aAAa,CAACC,KAAY;IACxBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,KAAK,CAACN,OAAO,CAAC;IAExD,IAAI,CAACjB,cAAc,CAAC0B,MAAM,CAACH,KAAK,CAACN,OAAO,CAAC,CAACT,SAAS,CAAC;MAClDC,IAAI,EAAGC,IAAI,IAAI;QACb,MAAMiB,UAAU,GAAG,IAAI,CAAChB,WAAW,CAACiB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACZ,OAAO,IAAIM,KAAK,CAACN,OAAO,CAAC;QACjF,IAAI,CAACN,WAAW,GAAGgB,UAAU;MAC/B,CAAC;MACDf,KAAK,EAAGC,CAAC,IAAI;QACXW,OAAO,CAACZ,KAAK,CAAC,yBAAyB,EAAEC,CAAC,CAAC;MAC7C;KACD,CAAC;EACJ;;AApDWf,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAgC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCTzBrC,8BAAiC;MAIAA,+BAAe;MAAAA,iBAAM;MAC9CA,8BAAuB;MAGjBA,2BAKE;MACFA,kCAKC;MADCA;QAAA,OAASsC,kBAAc;MAAA,EAAC;MACzBtC,wBAAO;MAAAA,iBAAS;MAGrBA,+BAAuB;MACrBA,8DASK;MACPA,iBAAK;;;MA3BCA,eAA6B;MAA7BA,+CAA6B;MAW7BA,eAAoC;MAApCA,sDAAoC;MAMMA,eAAc;MAAdA,yCAAc","names":["Validators","i0","AppComponent","constructor","_tareaServicio","fb","formularioTarea","group","nombre","required","obtenerTareas","getList","subscribe","next","data","listaTareas","error","e","ngOnInit","agregarTarea","request","idtarea","value","add","push","patchValue","eliminarTarea","tarea","console","log","delete","nuevaLista","filter","item","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/jason/Desktop/Aplicaciones/project-task-netangular/ClientApp/src/app/app.component.ts","/Users/jason/Desktop/Aplicaciones/project-task-netangular/ClientApp/src/app/app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Tarea } from './Interface/Tarea';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { TareaService } from './Services/tarea.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n})\r\nexport class AppComponent implements OnInit {\r\n  listaTareas: Tarea[] = [];\r\n  formularioTarea: FormGroup;\r\n\r\n  constructor(private _tareaServicio: TareaService, private fb: FormBuilder) {\r\n    this.formularioTarea = this.fb.group({\r\n      nombre: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  obtenerTareas() {\r\n    this._tareaServicio.getList().subscribe({\r\n      next: (data) => {\r\n        this.listaTareas = data;\r\n      },\r\n      error: (e) => {},\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.obtenerTareas();\r\n  }\r\n\r\n  agregarTarea() {\r\n    const request: Tarea = {\r\n      idtarea: 0,\r\n      nombre: this.formularioTarea.value.nombre,\r\n    };\r\n\r\n    this._tareaServicio.add(request).subscribe({\r\n      next: (data) => {\r\n        this.listaTareas.push(data);\r\n        this.formularioTarea.patchValue({\r\n          nombre: '',\r\n        });\r\n      },\r\n      error: (e) => {},\r\n    });\r\n  }\r\n\r\n  eliminarTarea(tarea: Tarea) {\r\n    console.log('ID de la tarea a eliminar:', tarea.idtarea);\r\n\r\n    this._tareaServicio.delete(tarea.idtarea).subscribe({\r\n      next: (data) => {\r\n        const nuevaLista = this.listaTareas.filter(item => item.idtarea != tarea.idtarea);\r\n        this.listaTareas = nuevaLista;\r\n      },\r\n      error: (e) => {\r\n        console.error('Error al eliminar tarea', e);\r\n      },\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container mt-5 pt-5\">\n  <div class=\"row justify-content-center\">\n    <div class=\"col-12 col-xl-4 col-md-6\">\n      <div class=\"card\">\n        <div class=\"card-header\">Lista de tareas</div>\n        <div class=\"card-body\">\n          <form [formGroup]=\"formularioTarea\">\n            <div class=\"input-group mb-3\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Ingresar nueva tarea\"\n                formControlName=\"nombre\"\n              />\n              <button\n                class=\"btn btn-primary\"\n                type=\"button\"\n                [disabled]=\"formularioTarea.invalid\"\n                (click)=\"agregarTarea()\"\n              >Agregar</button>\n            </div>\n          </form>\n          <ul class=\"list-group\">\n            <li class=\"list-group-item\" *ngFor=\"let tarea of listaTareas\">\n              <div class=\"d-flex justify-content-between\">\n                <label>{{ tarea.nombre }}</label>\n                <button\n                  class=\"btn btn-danger btn-sm\"\n                  type=\"button\"\n                  (click)=\"eliminarTarea(tarea)\"\n                >Eliminar</button>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}